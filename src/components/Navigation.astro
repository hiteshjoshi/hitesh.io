---
import Footer from "./Footer.astro";
import { Image } from "astro:assets";
import img from "./../assets/hitesh.jpeg";
import LogoSvg from "./LogoSvg.astro";
---

<div class="flex max-w-full pl-10">
  <div class="w-full">
    <div class="flex items-start justify-between pb-1">
      <div class="flex items-center h-auto ml-3">
        <button
          id="toggleButton"
          class="absolute top-0 right-0 z-30 text-white flex items-center justify-center p-3 mt-4 mr-5 space-x-1 text-xs font-medium uppercase border rounded-full bg-gray-800 border-neutral-200"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="3"
            stroke="currentColor"
            class="w-4 h-4"
            ><g class="hidden"
              ><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></g
            >
            <g class="show"
              ><line x1="3" x2="21" y1="6" y2="6"></line><line
                x1="3"
                x2="21"
                y1="12"
                y2="12"></line><line x1="3" x2="21" y1="18" y2="18"></line></g
            >
          </svg>
        </button>
      </div>
    </div>
    <div
      id="slideOver"
      class="fixed inset-y-0 right-0 xl:w-[20%] w-full md:w-1/3 sm:w-full flex flex-col h-full py-5 overflow-y-scroll bg-white border-l border-gray-200"
      style="display:none;"
    >
      <div class="px-4 sm:px-5 mt-10 font-semibold font-mono">about</div>
      <div class="relative flex-1 px-4 mt-5 sm:px-5">
        <div class="absolute inset-0 px-4 sm:px-5">
          <Image
            src={img}
            alt="Hitesh Joshi"
            class="rounded-md mb-2 grayscale hover:grayscale-0"
          />
          <div class="relative h-full rounded-md border-neutral-300">
            नमस्ते! this blog is where I jot down my random thoughts, cool stuff
            I'm learning, and tales from my startup life. Always up for a good
            chat and a laugh. <span class="text-blue-800"
              ><a href="https://ploton.dev">@plotondev</a></span
            ><br />
            <span class="text-xs">- Hitesh Joshi, CEO | Ploton, Inc.</span>
            <div><Footer /></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  var slideOverOpen = false;

  document
    ?.getElementById("toggleButton")
    ?.addEventListener("mouseover", function () {
      setTimeout(function () {
        slideOverOpen = true;
        updateSlideOverDisplay();
      }, 100);
    });

  document
    ?.getElementById("toggleButton")
    ?.addEventListener("click", function () {
      slideOverOpen = !slideOverOpen;
      updateSlideOverDisplay();
    });

  document
    ?.getElementById("slideOver")
    ?.addEventListener("mouseleave", function () {
      setTimeout(function () {
        slideOverOpen = false;
        updateSlideOverDisplay();
      }, 800);
    });

  function updateSlideOverDisplay() {
    var slideOver = document.getElementById("slideOver");
    if (slideOverOpen) {
      slideOver!.style.display = "block";
    } else {
      slideOver!.style.display = "none";
    }
  }
</script>
